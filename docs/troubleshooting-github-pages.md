# üîß Guide de D√©pannage - GitHub Pages

Ce guide vous aide √† r√©soudre les probl√®mes de d√©ploiement sur GitHub Pages.

## ‚úÖ Checklist de Configuration Obligatoire

### 1. Configuration GitHub Pages (CRITIQUE)

1. **Allez sur votre repository GitHub** :
   - URL: `https://github.com/akinerinlamoulerogiscardisidore/Documentation-TRC2k25-TEAM-ROBOSTIM`

2. **Cliquez sur "Settings"** (en haut du repository)

3. **Dans le menu de gauche, cliquez sur "Pages"**

4. **Configurez la source** :
   - **Source** : S√©lectionnez `GitHub Actions` (PAS "Deploy from a branch")
   - Cliquez sur **"Save"**

   ‚ö†Ô∏è **IMPORTANT** : Si vous voyez "Deploy from a branch", NE l'utilisez PAS. Utilisez UNIQUEMENT "GitHub Actions".

### 2. Configuration des Permissions GitHub Actions (CRITIQUE)

1. **Dans Settings, cliquez sur "Actions"** (menu de gauche)

2. **Dans "General"**, faites d√©filer jusqu'√† **"Workflow permissions"**

3. **S√©lectionnez** :
   - ‚úÖ **"Read and write permissions"**
   - ‚úÖ Cochez **"Allow GitHub Actions to create and approve pull requests"**

4. **Cliquez sur "Save"** (en bas de la page)

### 3. Cr√©ation de l'Environnement GitHub Pages

Si vous utilisez la nouvelle configuration avec `environment: github-pages`, GitHub devrait cr√©er automatiquement l'environnement. Si ce n'est pas le cas :

1. **Allez dans Settings > Environments**
2. Si "github-pages" n'existe pas, cliquez sur "New environment"
3. Nommez-le **"github-pages"** (exactement comme √ßa, en minuscules avec un tiret)
4. Cliquez sur "Configure environment"
5. **Ne cochez PAS de protection rules** pour le premier d√©ploiement
6. Cliquez sur "Save protection rules"

## üîç V√©rification du D√©ploiement

### V√©rifier le Workflow

1. **Allez dans l'onglet "Actions"** de votre repository
2. Vous devriez voir le workflow **"Deploy to GitHub Pages"** s'ex√©cuter
3. **Attendez la fin de l'ex√©cution** (2-5 minutes)

### V√©rifier les Logs en Cas d'Erreur

Si le workflow √©choue :

1. **Cliquez sur le workflow qui a √©chou√©**
2. **Cliquez sur le job "build-and-deploy"**
3. **Lisez les logs** pour identifier l'erreur

**Erreurs courantes** :

- ‚ùå **"Permission denied"** ‚Üí V√©rifiez les permissions (section 2 ci-dessus)
- ‚ùå **"Environment not found"** ‚Üí Cr√©ez l'environnement (section 3 ci-dessus)
- ‚ùå **"Build failed"** ‚Üí V√©rifiez les erreurs de build dans les logs
- ‚ùå **"Page build failed"** ‚Üí V√©rifiez que la source est bien "GitHub Actions" (section 1)

## üåê Acc√®s au Site

Une fois le d√©ploiement r√©ussi, votre site sera accessible √† :

```
https://akinerinlamoulerogiscardisidore.github.io/Documentation-TRC2k25-TEAM-ROBOSTIM/
```

‚ö†Ô∏è **Note** : Le premier d√©ploiement peut prendre **10-15 minutes**. Les d√©ploiements suivants prennent g√©n√©ralement **2-5 minutes**.

## üêõ Solutions aux Probl√®mes Courants

### Probl√®me 1 : Le workflow ne se d√©clenche pas

**Solution** :
- V√©rifiez que vous avez bien pouss√© sur la branche `main`
- V√©rifiez que le fichier `.github/workflows/deploy.yml` existe
- V√©rifiez dans Settings > Actions que GitHub Actions est activ√©

### Probl√®me 2 : "Permission denied" ou "403 Forbidden"

**Solution** :
- Retournez √† la section 2 ci-dessus
- Assurez-vous que les permissions sont bien configur√©es sur "Read and write permissions"

### Probl√®me 3 : Le site affiche "404 Not Found"

**Solution** :
- V√©rifiez que `baseUrl` dans `docusaurus.config.js` correspond exactement au nom de votre repository
- V√©rifiez que GitHub Pages est bien activ√© (section 1)
- Attendez 10-15 minutes apr√®s le premier d√©ploiement

### Probl√®me 4 : Le site s'affiche mais les images/CSS ne se chargent pas

**Solution** :
- V√©rifiez que `baseUrl` dans `docusaurus.config.js` se termine par un `/` (ex: `/Documentation-TRC2k25-TEAM-ROBOSTIM/`)
- V√©rifiez que `url` est correct (sans slash final)

### Probl√®me 5 : "Environment protection rules" bloque le d√©ploiement

**Solution** :
- Allez dans Settings > Environments > github-pages
- Retirez temporairement les r√®gles de protection
- Ou ajoutez votre compte comme reviewer

## üìû Besoin d'Aide ?

Si le probl√®me persiste :

1. **Copiez les logs d'erreur** du workflow GitHub Actions
2. **V√©rifiez cette checklist** point par point
3. **V√©rifiez que votre repository est public** (GitHub Pages gratuit n√©cessite un repository public)

## ‚úÖ Configuration Finale Recommand√©e

Votre `docusaurus.config.js` devrait contenir :

```javascript
url: 'https://akinerinlamoulerogiscardisidore.github.io',
baseUrl: '/Documentation-TRC2k25-TEAM-ROBOSTIM/',
organizationName: 'akinerinlamoulerogiscardisidore',
projectName: 'Documentation-TRC2k25-TEAM-ROBOSTIM',
deploymentBranch: 'gh-pages',
trailingSlash: false,
```

Et votre workflow `.github/workflows/deploy.yml` devrait contenir :

```yaml
permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build-and-deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
```

---

**Derni√®re mise √† jour** : Apr√®s chaque modification, attendez que le workflow se termine avant de v√©rifier si le site fonctionne.

